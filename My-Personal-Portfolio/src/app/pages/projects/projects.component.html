<section id="projects" class="projects-section" [ngClass]="{'visible': isVisible}">
  
  <!-- Background Pattern -->
  <div class="projects-background">
    <div class="pattern-grid"></div>
  </div>

  <div class="container">
    
    <!-- Section Header -->
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-code"></i>
        My Projects
      </h2>
      <p class="section-subtitle">
        A showcase of my development work, from full-stack applications to frontend interfaces
      </p>
    </div>

    <!-- Category Filter -->
    <div class="category-filter">
      <div class="filter-buttons">
        <button 
          *ngFor="let category of categories" 
          class="filter-btn"
          [ngClass]="{'active': activeCategory === category.id}"
          (click)="filterByCategory(category.id)">
          <i [class]="category.icon"></i>
          <span>{{ category.name }}</span>
          <span class="category-count">{{ category.count }}</span>
        </button>
      </div>
    </div>

    <!-- Projects Grid -->
    <div class="projects-grid" *ngIf="filteredProjects.length > 0">
      <div 
        *ngFor="let project of filteredProjects; trackBy: trackByProjectId" 
        class="project-card"
        [ngClass]="{'featured': project.featured}">
        
        <!-- Featured Badge -->
        <div *ngIf="project.featured" class="featured-badge">
          <i class="fas fa-star"></i>
          Featured
        </div>

        <!-- Status Badge -->
        <div class="status-badge" [ngClass]="getStatusClass(project.status)">
          {{ project.status | titlecase }}
        </div>

        <!-- Project Image -->
        <div class="project-image">
          <img [src]="project.image" [alt]="project.title" loading="lazy">
        </div>

        <!-- Project Content -->
        <div class="project-content">
          
          <!-- Project Header -->
          <div class="project-header">
            <h3 class="project-title">{{ project.title }}</h3>
            <p class="project-description">{{ project.description }}</p>
          </div>

          <!-- Tech Stack -->
          <div class="tech-stack">
            <div class="tech-label">
              <i class="fas fa-tools"></i>
              Tech Stack
            </div>
            <div class="tech-badges">
              <span *ngFor="let tech of project.techStack" class="tech-badge">
                {{ tech }}
              </span>
            </div>
          </div>

          <!-- Project Actions - ALWAYS VISIBLE -->
          <div class="project-actions">
            <button 
              *ngIf="project.liveDemo"
              class="demo-link"
              (click)="openLink(project.liveDemo)"
              type="button">
              <i class="fas fa-external-link-alt"></i>
              Live Demo
            </button>
            
            <button 
              class="github-link"
              (click)="openLink(project.githubUrl)"
              type="button">
              <i class="fab fa-github"></i>
              Source Code
            </button>
          </div>

        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredProjects.length === 0" class="empty-state">
      <i class="fas fa-search empty-icon"></i>
      <h3>No projects found</h3>
      <p>Try selecting a different category to see more projects.</p>
    </div>

  </div>
</section>